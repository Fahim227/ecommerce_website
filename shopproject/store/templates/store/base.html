{% load static %}

<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>{% block title %}Picksy Mart{% endblock %}</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
<link rel="stylesheet" href="{% static 'store/css/custom.css' %}">
<!-- cart styles -->
<link rel="stylesheet" href="{% static 'store/css/cart.css' %}">

<style>


.category-circle {
    position: relative;
    width: 150px;
    height: 150px;
    border-radius: 50%;
    overflow: hidden;
    text-align: center;
    cursor: pointer;
    margin: auto;
    border: 2px solid #f28124;
    transition: transform 0.3s, box-shadow 0.3s;
}

.category-circle img {
  padding: 20px;
    width: 100%;
    height: 100%;
    object-fit: f;
    display: block;
}

.category-circle h6 {
    position: absolute;
    bottom: 0;
    width: 100%;
    margin: 0;
    padding: 5px 0;
    background: rgba(0, 0, 0, 0.5); /* semi-transparent black overlay */
    color: white;
    font-size: 0.9rem;
    font-weight: 500;
}

.category-circle:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}




.nav-item.dropdown:hover > .dropdown-menu {
    display: block;
    margin-top: 0; /* optional */
}

.navbar .dropdown-menu {
    transition: all 0.3s ease;
    border-radius: 0.25rem;
}
.category-dropdown-img {
    width: 30px;
    height: 30px;
    object-fit: cover;
    border-radius: 50%;
}

.category-dropdown-placeholder {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background-color: #f8f9fa;
    color: #f28124;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 0.85rem;
}




    .navbar-brand img {
    width: 80px;
    height: 80px;
    object-fit: contain;
}
.navbar {
    padding-top: 0.0rem;
    padding-bottom: 0.0rem;
}
.nav-link {
    font-size: 1.1rem;
      color: black !important; /* Default color */
  transition: color 0.3s ease; /* Smooth hover effect */
}
.bg-light{
    background-color: white !important;
}

 

.nav-link:hover {
  color: #f28124 !important; /* Orange hover color */
}


</style>
</head>
<body>


<nav class="navbar navbar-expand-lg   bg-white shadow-sm sticky-top">
  <div class="container">
    <!-- Left: Logo -->
    <a class="navbar-brand" href="{% url 'store:home' %}">
      <img src="/media/products/shop_logo.png" style="width: 80px; height: 80px;" alt="Shop Logo">
    </a>

    <!-- Mobile Toggle -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Right: Home link -->
    <div class="collapse navbar-collapse justify-content-end" id="navMenu">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link fw-semibold " href="{% url 'store:home' %}">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link fw-semibold " href="{% url 'store:products' %}">Products</a>
        </li>
        

<li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" id="productsDropdown" role="button">
        Categories
    </a>
    <ul class="dropdown-menu" aria-labelledby="productsDropdown">
        {% for category in categories %}
        <li>
            <a class="dropdown-item d-flex align-items-center" href="{% url 'store:products_by_category' category.slug %}">
                {% if category.image %}
                <img src="{{ category.image.url }}" alt="{{ category.name }}" class="category-dropdown-img me-2">
                {% else %}
                <div class="category-dropdown-placeholder me-2">
                    {{ category.name|slice:":1" }}
                </div>
                {% endif %}
                {{ category.name }}
            </a>
        </li>
        {% empty %}
        <li><span class="dropdown-item">No categories</span></li>
        {% endfor %}
    </ul>
</li>

<!-- Navbar cart icon (place in navbar links) -->
<li class="nav-item ms-2">
  <a class="nav-link position-relative" href="#" id="openCartBtn" role="button" aria-label="Open cart">
    <i class="bi bi-cart3" style="font-size:1.15rem;"></i>
    <span id="cartCountBadge" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">0</span>
  </a>
</li>



      </ul>
    </div>
  </div>
</nav>



<div class="container my-4">
{% if messages %}
{% for msg in messages %}
<div class="alert alert-{{ msg.tags }}">{{ msg }}</div>
{% endfor %}
{% endif %}


{% block content %}{% endblock %}
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


<!-- include cart slider (will render the right drawer) -->
{% include 'store/partials/cart_slider.html' %}

<!-- Bootstrap JS (if not already) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- cart JS -->
<script src="{% static 'store/js/cart.js' %}"></script>


</body>
</html>